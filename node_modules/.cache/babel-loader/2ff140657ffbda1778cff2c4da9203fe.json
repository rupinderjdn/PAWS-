{"ast":null,"code":"import _classCallCheck from\"C:/Users/Rupinder/Desktop/PAWS+/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Rupinder/Desktop/PAWS+/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Rupinder/Desktop/PAWS+/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Rupinder/Desktop/PAWS+/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import MovieCard from'./MovieCard';import React from'react';import Navbar from'./Navbar.js';import{data}from'../util/data';import{addMovies,setShowFavourite,setShowForm}from'../actions';import Form from'./Form';import Footer from'./Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;// make an API call\n// dispatch an action\nvar store=this.props.store;store.dispatch(addMovies(data));store.subscribe(function(){// console.log(\"UPDATED\")\n// will be called after dispatch function\nconsole.log(\"State\",_this.props.store.getState());_this.forceUpdate();// console.log(store.getState());\n// this function should not be used in general\n});// ideally we should avoid hardcoding dispatch function\n}},{key:\"isMovieFavourite\",value:function isMovieFavourite(movie){var _this$props$store$get=this.props.store.getState(),movies=_this$props$store$get.movies;var favourites=movies.favourites;return favourites.indexOf(movie)>=0;}},{key:\"changeTab\",value:function changeTab(val){this.props.store.dispatch(setShowFavourite(val));}},{key:\"displayForm\",value:function displayForm(){this.props.store.dispatch(setShowForm());}},{key:\"render\",value:function render(){var _this2=this;// return 'a';\n// componentDidMount()\nvar _this$props$store$get2=this.props.store.getState(),movies=_this$props$store$get2.movies,search=_this$props$store$get2.search;// {movies : {list,favourites,showFavourites} , search : {results}}\nvar list=movies.list,favourites=movies.favourites,showFavourites=movies.showFavourites,showForm=movies.showForm;var displayMovies=showFavourites?favourites:list;return/*#__PURE__*/_jsxs(\"div\",{id:\"app\",className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{store:this.props.store,search:search}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4  fs-5 \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return _this2.changeTab(false);},children:\"Available\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4  fs-5 \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return _this2.changeTab(true);},children:\"Adopted\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4  fs-5 \",children:/*#__PURE__*/_jsx(\"a\",{href:\"#footer\",className:\"btn btn-danger\",onClick:function onClick(){return _this2.displayForm();},children:\"Add For Adoption\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center flex-row flex-wrap my-4\",children:!showForm?displayMovies.map(function(movie,index){return/*#__PURE__*/_jsx(MovieCard,{movie:movie,dispatch:_this2.props.store.dispatch,isFavourite:_this2.isMovieFavourite(movie)},index);}):/*#__PURE__*/_jsx(Form,{store:this.props.store})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["MovieCard","React","Navbar","data","addMovies","setShowFavourite","setShowForm","Form","Footer","App","store","props","dispatch","subscribe","console","log","getState","forceUpdate","movie","movies","favourites","indexOf","val","search","list","showFavourites","showForm","displayMovies","changeTab","displayForm","map","index","isMovieFavourite","Component"],"sources":["C:/Users/Rupinder/Desktop/PAWS+/src/components/App.js"],"sourcesContent":["import MovieCard from './MovieCard';\r\nimport React from 'react';\r\nimport Navbar from './Navbar.js';\r\nimport { data } from '../util/data';\r\nimport { addMovies, setShowFavourite, setShowForm } from '../actions';\r\nimport Form from './Form';\r\nimport Footer from './Footer'\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    // make an API call\r\n    // dispatch an action\r\n\r\n    const { store } = this.props;\r\n    store.dispatch(addMovies(data));\r\n    store.subscribe(() => {\r\n      // console.log(\"UPDATED\")\r\n      // will be called after dispatch function\r\n      console.log(\"State\", this.props.store.getState())\r\n      this.forceUpdate();\r\n      // console.log(store.getState());\r\n      // this function should not be used in general\r\n    })\r\n    \r\n    // ideally we should avoid hardcoding dispatch function\r\n  }\r\n  isMovieFavourite(movie) {\r\n    const { movies } = this.props.store.getState();\r\n    const {favourites }= movies;\r\n    return favourites.indexOf(movie) >= 0;\r\n  }\r\n  changeTab(val){\r\n    this.props.store.dispatch(setShowFavourite(val))\r\n  }\r\n  displayForm(){\r\n    this.props.store.dispatch(setShowForm());\r\n  }\r\n  render() {\r\n    // return 'a';\r\n    // componentDidMount()\r\n    const {movies,search} = this.props.store.getState(); // {movies : {list,favourites,showFavourites} , search : {results}}\r\n\r\n    const {list, favourites, showFavourites, showForm} = movies\r\n\r\n    const displayMovies = showFavourites ? favourites : list;\r\n    return (\r\n      <div id=\"app\"className=\"App\">\r\n        <Navbar store ={this.props.store} search={search}/>\r\n        <div className=\"container-fluid my-3\">\r\n          <div className=\"container row\">\r\n            <div className=\"col-md-4  fs-5 \"><button className=\"btn btn-primary\" onClick={() => this.changeTab(false)}>Available</button></div>\r\n            <div className=\"col-md-4  fs-5 \"><button className=\"btn btn-primary\" onClick={() => this.changeTab(true)}>Adopted</button></div>\r\n            <div className=\"col-md-4  fs-5 \"><a href=\"#footer\"className=\"btn btn-danger\" onClick={() => this.displayForm()}>Add For Adoption</a></div>\r\n        </div>\r\n        <div  className=\"d-flex justify-content-center flex-row flex-wrap my-4\">\r\n          { !showForm?\r\n            displayMovies.map((movie, index) => (\r\n              <MovieCard\r\n                movie={movie}\r\n                key={index}\r\n                dispatch={this.props.store.dispatch}\r\n                isFavourite={this.isMovieFavourite(movie)} />\r\n            )): <Form store = {this.props.store}/>}\r\n        </div>\r\n        \r\n      </div>\r\n      < Footer />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}